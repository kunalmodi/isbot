{"version":3,"sources":["../index.mjs","script.js"],"names":["regex","patterns_default","pattern","exports","list","isbot","userAgent","Boolean","test","createIsbot","customPattern","createIsbotFromList","list2","pattern2","RegExp","join","isbotMatch","_userAgent$match$","_userAgent$match","match","isbotMatches","map","part","_userAgent$match2","filter","isbotPattern","_list$find","find","isbotPatterns","_","require","timer","textarea","document","querySelector","output","copyLink","url","URL","window","location","href","ua","searchParams","get","change","_ref","value","target","clearTimeout","setTimeout","check","append","parent","tag","string","ele","createElement","appendChild","createTextNode","details","fragment","createDocumentFragment","is","found","arguments","length","undefined","innerHTML","trim","firstChild","removeChild","childNodes","forEach","child","_child$parentNode","parentNode","navigator","addEventListener","select","event","preventDefault","_document$location","protocol","host","pathname","clipboard","writeText","encodeURIComponent","dialog","body","showModal","close","style","opacity"],"mappings":";AAkMwH,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,QAAA,KAAA,QAAA,cAAA,QAAA,aAAA,QAAA,aAAA,QAAA,WAAA,QAAA,MAAA,QAAA,oBAAA,QAAA,iBAAA,EAjMxH,IAAIA,EAAQ,q4DAGRC,EAAmB,CACrB,YACA,UACA,mBACA,cACA,iBACA,2DACA,4BACA,4BACA,mBACA,kBACA,SACA,gBACA,mBACA,gBACA,SACA,KACA,wEACA,cACA,UACA,cACA,SACA,eACA,iBACA,eACA,aACA,OACA,gBACA,cACA,WACA,WACA,UACA,UACA,kBACA,aACA,gBACA,aACA,cACA,YACA,cACA,aACA,YACA,UACA,UACA,WACA,UACA,UACA,UACA,UACA,WACA,WACA,kBACA,eACA,yCACA,2BACA,gBACA,WACA,oBACA,OACA,WACA,YACA,UACA,QACA,QACA,QACA,QACA,YACA,eACA,OACA,SACA,WACA,YACA,WACA,eACA,SACA,sBACA,OACA,cACA,aACA,QACA,YACA,oBACA,SACA,UACA,WACA,qBACA,WACA,eACA,cACA,UACA,mBACA,YACA,gBACA,UACA,mBACA,UACA,QACA,QACA,oBACA,cACA,aACA,QACA,QACA,YACA,YACA,WACA,eACA,YACA,YACA,WACA,aACA,OACA,UACA,aACA,aACA,WACA,UACA,2BACA,QACA,cACA,SACA,UACA,UACA,YACA,YACA,UACA,aACA,UACA,UACA,cACA,QACA,WACA,WACA,YACA,YACA,SACA,OACA,UACA,UACA,aACA,UACA,QACA,cACA,SACA,aACA,WACA,YACA,QACA,QACA,QACA,MACA,OACA,SACA,SACA,QACA,YACA,aACA,SACA,SACA,aACA,oBACA,eACA,UACA,YACA,UACA,cACA,aACA,gBACA,MACA,WACA,aACA,YACA,aACA,WACA,YACA,SAIEC,EAAOC,QAAAD,QAAGF,EACVI,EAAID,QAAAC,KAAGH,EACPI,EAAKF,QAAAE,MAAG,SAACC,GAAS,OAAKC,QAAQD,IAAcJ,EAAQM,KAAKF,IAC1DG,EAA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","file":"script.7c087f5e.js","sourceRoot":"../page","sourcesContent":["// src/pattern.ts\nvar regex = / daum[ /]| deusu\\/| yadirectfetcher|(?:^| )site|(?:^|[^g])news|(?<! (?:channel\\/|google\\/))google(?!(app|\\/google| pixel))|(?<! cu)bot(?:[^\\w]|_|$)|(?<! ya(?:yandex)?)search|(?<!(?:lib))http|(?<![hg]m)score|@[a-z]|\\(at\\)[a-z]|\\(github\\.com\\/|\\[at\\][a-z]|^12345|^<|^[\\w \\.\\-\\(?:\\):]+(?:\\/v?\\d+(\\.\\d+)?(?:\\.\\d{1,10})?)?(?:,|$)|^[^ ]{50,}$|^active|^ad muncher|^amaya|^anglesharp\\/|^avsdevicesdk\\/|^bidtellect\\/|^biglotron|^bot|^btwebclient\\/|^clamav[ /]|^client\\/|^cobweb\\/|^coccoc|^custom|^ddg[_-]android|^discourse|^dispatch\\/\\d|^downcast\\/|^duckduckgo|^facebook|^fdm[ /]\\d|^getright\\/|^gozilla\\/|^hatena|^hobbit|^hotzonu|^hwcdn\\/|^jeode\\/|^jetty\\/|^jigsaw|^linkdex|^metauri|^microsoft bits|^movabletype|^mozilla\\/\\d\\.\\d \\(compatible;?\\)$|^mozilla\\/\\d\\.\\d \\w*$|^navermailapp|^netsurf|^offline explorer|^php|^postman|^postrank|^python|^rank|^read|^reed|^rest|^snapchat|^space bison|^svn|^swcd |^taringa|^thumbor\\/|^tumblr\\/|^user-agent:|^valid|^venus\\/fedoraplanet|^w3c|^webbandit\\/|^webcopier|^wget|^whatsapp|^xenu link sleuth|^yahoo|^yandex|^zdm\\/\\d|^zoom marketplace\\/|^{{.*}}$|adbeat\\.com|appinsights|archive|ask jeeves\\/teoma|bit\\.ly\\/|bluecoat drtr|browsex|burpcollaborator|capture|catch|check|chrome-lighthouse|chromeframe|classifier|cloud|crawl|cryptoapi|dareboost|datanyze|dataprovider|dejaclick|dmbrowser|download|evc-batch\\/|feed|firephp|freesafeip|gomezagent|headless|httrack|hubspot marketing grader|hydra|ibisbrowser|images|inspect|iplabel|ips-agent|java(?!;)|library|mail\\.ru\\/|manager|monitor|neustar wpm|nutch|offbyone|optimize|pageburst|pagespeed|parser|perl|phantom|pingdom|powermarks|preview|proxy|ptst[ /]\\d|reader|reputation|resolver|retriever|rexx;|rigor|robot|rss|scan|scrape|server|sogou|sparkler\\/|speedcurve|spider|splash|statuscake|stumbleupon\\.com|supercleaner|synapse|synthetic|torrent|tracemyfile|transcoder|twingly recon|url|virtuoso|wappalyzer|webglance|webkit2png|whatcms\\/|wordpress|zgrab/i;\n\n// src/patterns.json\nvar patterns_default = [\n  \" daum[ /]\",\n  \" deusu/\",\n  \" yadirectfetcher\",\n  \"(?:^| )site\",\n  \"(?:^|[^g])news\",\n  \"(?<! (?:channel/|google/))google(?!(app|/google| pixel))\",\n  \"(?<! cu)bot(?:[^\\\\w]|_|$)\",\n  \"(?<! ya(?:yandex)?)search\",\n  \"(?<!(?:lib))http\",\n  \"(?<![hg]m)score\",\n  \"@[a-z]\",\n  \"\\\\(at\\\\)[a-z]\",\n  \"\\\\(github\\\\.com/\",\n  \"\\\\[at\\\\][a-z]\",\n  \"^12345\",\n  \"^<\",\n  \"^[\\\\w \\\\.\\\\-\\\\(?:\\\\):]+(?:/v?\\\\d+(\\\\.\\\\d+)?(?:\\\\.\\\\d{1,10})?)?(?:,|$)\",\n  \"^[^ ]{50,}$\",\n  \"^active\",\n  \"^ad muncher\",\n  \"^amaya\",\n  \"^anglesharp/\",\n  \"^avsdevicesdk/\",\n  \"^bidtellect/\",\n  \"^biglotron\",\n  \"^bot\",\n  \"^btwebclient/\",\n  \"^clamav[ /]\",\n  \"^client/\",\n  \"^cobweb/\",\n  \"^coccoc\",\n  \"^custom\",\n  \"^ddg[_-]android\",\n  \"^discourse\",\n  \"^dispatch/\\\\d\",\n  \"^downcast/\",\n  \"^duckduckgo\",\n  \"^facebook\",\n  \"^fdm[ /]\\\\d\",\n  \"^getright/\",\n  \"^gozilla/\",\n  \"^hatena\",\n  \"^hobbit\",\n  \"^hotzonu\",\n  \"^hwcdn/\",\n  \"^jeode/\",\n  \"^jetty/\",\n  \"^jigsaw\",\n  \"^linkdex\",\n  \"^metauri\",\n  \"^microsoft bits\",\n  \"^movabletype\",\n  \"^mozilla/\\\\d\\\\.\\\\d \\\\(compatible;?\\\\)$\",\n  \"^mozilla/\\\\d\\\\.\\\\d \\\\w*$\",\n  \"^navermailapp\",\n  \"^netsurf\",\n  \"^offline explorer\",\n  \"^php\",\n  \"^postman\",\n  \"^postrank\",\n  \"^python\",\n  \"^rank\",\n  \"^read\",\n  \"^reed\",\n  \"^rest\",\n  \"^snapchat\",\n  \"^space bison\",\n  \"^svn\",\n  \"^swcd \",\n  \"^taringa\",\n  \"^thumbor/\",\n  \"^tumblr/\",\n  \"^user-agent:\",\n  \"^valid\",\n  \"^venus/fedoraplanet\",\n  \"^w3c\",\n  \"^webbandit/\",\n  \"^webcopier\",\n  \"^wget\",\n  \"^whatsapp\",\n  \"^xenu link sleuth\",\n  \"^yahoo\",\n  \"^yandex\",\n  \"^zdm/\\\\d\",\n  \"^zoom marketplace/\",\n  \"^{{.*}}$\",\n  \"adbeat\\\\.com\",\n  \"appinsights\",\n  \"archive\",\n  \"ask jeeves/teoma\",\n  \"bit\\\\.ly/\",\n  \"bluecoat drtr\",\n  \"browsex\",\n  \"burpcollaborator\",\n  \"capture\",\n  \"catch\",\n  \"check\",\n  \"chrome-lighthouse\",\n  \"chromeframe\",\n  \"classifier\",\n  \"cloud\",\n  \"crawl\",\n  \"cryptoapi\",\n  \"dareboost\",\n  \"datanyze\",\n  \"dataprovider\",\n  \"dejaclick\",\n  \"dmbrowser\",\n  \"download\",\n  \"evc-batch/\",\n  \"feed\",\n  \"firephp\",\n  \"freesafeip\",\n  \"gomezagent\",\n  \"headless\",\n  \"httrack\",\n  \"hubspot marketing grader\",\n  \"hydra\",\n  \"ibisbrowser\",\n  \"images\",\n  \"inspect\",\n  \"iplabel\",\n  \"ips-agent\",\n  \"java(?!;)\",\n  \"library\",\n  \"mail\\\\.ru/\",\n  \"manager\",\n  \"monitor\",\n  \"neustar wpm\",\n  \"nutch\",\n  \"offbyone\",\n  \"optimize\",\n  \"pageburst\",\n  \"pagespeed\",\n  \"parser\",\n  \"perl\",\n  \"phantom\",\n  \"pingdom\",\n  \"powermarks\",\n  \"preview\",\n  \"proxy\",\n  \"ptst[ /]\\\\d\",\n  \"reader\",\n  \"reputation\",\n  \"resolver\",\n  \"retriever\",\n  \"rexx;\",\n  \"rigor\",\n  \"robot\",\n  \"rss\",\n  \"scan\",\n  \"scrape\",\n  \"server\",\n  \"sogou\",\n  \"sparkler/\",\n  \"speedcurve\",\n  \"spider\",\n  \"splash\",\n  \"statuscake\",\n  \"stumbleupon\\\\.com\",\n  \"supercleaner\",\n  \"synapse\",\n  \"synthetic\",\n  \"torrent\",\n  \"tracemyfile\",\n  \"transcoder\",\n  \"twingly recon\",\n  \"url\",\n  \"virtuoso\",\n  \"wappalyzer\",\n  \"webglance\",\n  \"webkit2png\",\n  \"whatcms/\",\n  \"wordpress\",\n  \"zgrab\"\n];\n\n// src/index.ts\nvar pattern = regex;\nvar list = patterns_default;\nvar isbot = (userAgent) => Boolean(userAgent) && pattern.test(userAgent);\nvar createIsbot = (customPattern) => (userAgent) => Boolean(userAgent) && customPattern.test(userAgent);\nvar createIsbotFromList = (list2) => {\n  const pattern2 = new RegExp(list2.join(\"|\"), \"i\");\n  return (userAgent) => Boolean(userAgent) && pattern2.test(userAgent);\n};\nvar isbotMatch = (userAgent) => userAgent?.match(pattern)?.[0] ?? null;\nvar isbotMatches = (userAgent) => list.map((part) => userAgent?.match(new RegExp(part, \"i\"))?.[0]).filter(Boolean);\nvar isbotPattern = (userAgent) => userAgent ? list.find((pattern2) => new RegExp(pattern2, \"i\").test(userAgent)) ?? null : null;\nvar isbotPatterns = (userAgent) => userAgent ? list.filter((pattern2) => new RegExp(pattern2, \"i\").test(userAgent)) : [];\nexport {\n  createIsbot,\n  createIsbotFromList,\n  isbot,\n  isbotMatch,\n  isbotMatches,\n  isbotPattern,\n  isbotPatterns,\n  list,\n  pattern\n};\n","import { isbot, isbotMatch, isbotPattern } from \"..\";\n\n{\n\tconst textarea = document.querySelector(\"textarea\");\n\tconst output = document.querySelector(\"output\");\n\tconst copyLink = document.querySelector('[id=\"copy-link\"]');\n\tlet timer;\n\n\tconst url = new URL(window.location.href);\n\tconst ua = url.searchParams.get(\"ua\");\n\n\ttextarea.childNodes.forEach((child) => child.parentNode?.removeChild(child));\n\ttextarea.appendChild(document.createTextNode(ua || navigator.userAgent));\n\ttextarea.addEventListener(\"keyup\", change);\n\ttextarea.addEventListener(\"paste\", change);\n\ttextarea.addEventListener(\"focus\", () => textarea.select());\n\tcheck();\n\n\tfunction change({ target: { value } }) {\n\t\tclearTimeout(timer);\n\t\ttimer = setTimeout(check, 200, value);\n\t}\n\n\tfunction append(parent, tag, string) {\n\t\tif (tag) {\n\t\t\tconst ele = document.createElement(\"kbd\");\n\t\t\tele.appendChild(document.createTextNode(string));\n\t\t\tparent.appendChild(ele);\n\t\t} else {\n\t\t\tparent.appendChild(document.createTextNode(string));\n\t\t}\n\t}\n\n\tfunction details(ua) {\n\t\tconst fragment = document.createDocumentFragment();\n\t\tconst is = isbot(ua);\n\t\tconst found = is && isbotMatch(ua);\n\t\tconst pattern = is && isbotPattern(ua);\n\n\t\tif (is) {\n\t\t\tappend(fragment, null, \"I think so, yes\\n\");\n\t\t\tappend(fragment, null, \"The substring \");\n\t\t\tappend(fragment, \"kbd\", found);\n\t\t\tappend(fragment, null, \" matches the pattern \");\n\t\t\tappend(fragment, \"kbd\", pattern);\n\t\t} else {\n\t\t\tappend(\n\t\t\t\tfragment,\n\t\t\t\tnull,\n\t\t\t\t\"I don't think so, no\\nI could not find a pattern I recognise\",\n\t\t\t);\n\t\t}\n\t\treturn fragment;\n\t}\n\n\tfunction check(value = textarea.innerHTML) {\n\t\tvalue = value.trim();\n\t\twhile (output.firstChild) {\n\t\t\toutput.removeChild(output.firstChild);\n\t\t}\n\t\tif (value === \"\") {\n\t\t\toutput.appendChild(\n\t\t\t\tdocument.createTextNode(\"Insert user agent string in the text box\"),\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\toutput.appendChild(details(value));\n\t}\n\n\tcopyLink.addEventListener(\"click\", (event) => {\n\t\tevent.preventDefault();\n\t\tconst { protocol, host, pathname } = document.location;\n\t\tnavigator.clipboard.writeText(\n\t\t\t[\n\t\t\t\tprotocol,\n\t\t\t\t\"//\",\n\t\t\t\thost,\n\t\t\t\tpathname,\n\t\t\t\t\"?ua=\",\n\t\t\t\tencodeURIComponent(textarea.value),\n\t\t\t].join(\"\"),\n\t\t);\n\t\tconst dialog = document.createElement(\"dialog\");\n\t\tdialog.appendChild(document.createTextNode(\"copied to clipboard\"));\n\t\tdocument.body.appendChild(dialog);\n\t\tdialog.showModal();\n\t\tsetTimeout(() => {\n\t\t\tdialog.addEventListener(\"transitionend\", () => {\n\t\t\t\tdialog.close();\n\t\t\t\tdocument.body.removeChild(dialog);\n\t\t\t});\n\t\t\tdialog.style.opacity = 0;\n\t\t}, 1000);\n\t});\n}\n"]}