{"version":3,"sources":["../index.mjs","script.js"],"names":["regex","patterns_default","pattern","exports","list","isbot","userAgent","Boolean","test","createIsbot","customPattern","isbotMatch","_userAgent$match","match","isbotMatches","map","part","_userAgent$match2","RegExp","filter","isbotPattern","_list$find","find","patten","isbotPatterns","_","require","timer","textarea","document","querySelector","output","copyLink","url","URL","window","location","href","ua","searchParams","get","change","_ref","value","target","clearTimeout","setTimeout","check","append","parent","tag","string","ele","createElement","appendChild","createTextNode","details","fragment","createDocumentFragment","is","found","arguments","length","undefined","innerHTML","trim","firstChild","removeChild","childNodes","forEach","child","_child$parentNode","parentNode","navigator","addEventListener","select","event","preventDefault","_document$location","protocol","host","pathname","clipboard","writeText","encodeURIComponent","join","dialog","body","showModal","close","style","opacity"],"mappings":";AAgMmG,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,QAAA,KAAA,QAAA,cAAA,QAAA,aAAA,QAAA,aAAA,QAAA,WAAA,QAAA,MAAA,QAAA,iBAAA,EA/LnG,IAAIA,EAAQ,s9DAGRC,EAAmB,CACrB,YACA,UACA,mBACA,cACA,iBACA,2DACA,cACA,4BACA,mBACA,SACA,gBACA,mBACA,gBACA,SACA,KACA,2DACA,cACA,UACA,cACA,SACA,eACA,aACA,iBACA,UACA,eACA,aACA,gBACA,UACA,cACA,WACA,WACA,UACA,UACA,kBACA,aACA,gBACA,aACA,cACA,YACA,cACA,aACA,YACA,UACA,UACA,WACA,UACA,UACA,UACA,UACA,WACA,YACA,WACA,kBACA,eACA,yCACA,2BACA,gBACA,WACA,oBACA,OACA,WACA,YACA,UACA,QACA,QACA,cACA,YACA,eACA,OACA,SACA,WACA,yBACA,YACA,WACA,sBACA,SACA,sBACA,OACA,cACA,aACA,QACA,YACA,oBACA,SACA,UACA,WACA,qBACA,WACA,eACA,cACA,UACA,mBACA,YACA,gBACA,UACA,mBACA,UACA,QACA,QACA,oBACA,cACA,aACA,QACA,QACA,YACA,YACA,WACA,eACA,YACA,YACA,WACA,aACA,OACA,UACA,aACA,aACA,kBACA,UACA,2BACA,QACA,cACA,SACA,UACA,UACA,YACA,YACA,UACA,aACA,UACA,UACA,gBACA,cACA,QACA,WACA,WACA,YACA,YACA,SACA,OACA,UACA,UACA,aACA,UACA,QACA,cACA,SACA,QACA,QACA,MACA,OACA,SACA,+BACA,SACA,QACA,YACA,aACA,SACA,SACA,aACA,oBACA,eACA,UACA,YACA,UACA,cACA,aACA,oBACA,gBACA,MACA,WACA,aACA,YACA,aACA,2BACA,WACA,YACA,SAIEC,EAAOC,QAAAD,QAAGF,EACVI,EAAID,QAAAC,KAAGH,EACPI,EAAKF,QAAAE,MAAG,SAACC,GAAS,OAAKC,QAAQD,IAAcJ,EAAQM,KAAKF,IAC1DG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","file":"script.9277c11b.js","sourceRoot":"../page","sourcesContent":["// src/pattern.ts\nvar regex = / daum[ /]| deusu\\/| yadirectfetcher|(?:^| )site|(?:^|[^g])news|(?<! (?:channel\\/|google\\/))google(?!(app|\\/google| pixel))|(?<! cu)bot|(?<! ya(?:yandex)?)search|(?<!(?:lib))http|@[a-z]|\\(at\\)[a-z]|\\(github\\.com\\/|\\[at\\][a-z]|^12345|^<|^[\\w \\.\\-\\(\\)]+(\\/v?\\d+(\\.\\d+)?(\\.\\d{1,10})?)?$|^[^ ]{50,}$|^active|^ad muncher|^amaya|^anglesharp\\/|^anonymous|^avsdevicesdk\\/|^axios\\/|^bidtellect\\/|^biglotron|^btwebclient\\/|^castro|^clamav[ /]|^client\\/|^cobweb\\/|^coccoc|^custom|^ddg[_-]android|^discourse|^dispatch\\/\\d|^downcast\\/|^duckduckgo|^facebook|^fdm[ /]\\d|^getright\\/|^gozilla\\/|^hatena|^hobbit|^hotzonu|^hwcdn\\/|^jeode\\/|^jetty\\/|^jigsaw|^linkdex|^lwp[-: ]|^metauri|^microsoft bits|^movabletype|^mozilla\\/\\d\\.\\d \\(compatible;?\\)$|^mozilla\\/\\d\\.\\d \\w*$|^navermailapp|^netsurf|^offline explorer|^php|^postman|^postrank|^python|^read|^reed|^restsharp\\/|^snapchat|^space bison|^svn|^swcd |^taringa|^test certificate info|^thumbor\\/|^tumblr\\/|^user-agent:mozilla|^valid|^venus\\/fedoraplanet|^w3c|^webbandit\\/|^webcopier|^wget|^whatsapp|^xenu link sleuth|^yahoo|^yandex|^zdm\\/\\d|^zoom marketplace\\/|^{{.*}}$|adbeat\\.com|appinsights|archive|ask jeeves\\/teoma|bit\\.ly\\/|bluecoat drtr|browsex|burpcollaborator|capture|catch|check|chrome-lighthouse|chromeframe|classifier|cloud|crawl|cryptoapi|dareboost|datanyze|dataprovider|dejaclick|dmbrowser|download|evc-batch\\/|feed|firephp|freesafeip|gomezagent|headlesschrome\\/|httrack|hubspot marketing grader|hydra|ibisbrowser|images|inspect|iplabel|ips-agent|java(?!;)|library|mail\\.ru\\/|manager|monitor|morningscore\\/|neustar wpm|nutch|offbyone|optimize|pageburst|pagespeed|parser|perl|phantom|pingdom|powermarks|preview|proxy|ptst[ /]\\d|reader|rexx;|rigor|rss|scan|scrape|serp ?reputation ?management|server|sogou|sparkler\\/|speedcurve|spider|splash|statuscake|stumbleupon\\.com|supercleaner|synapse|synthetic|torrent|tracemyfile|transcoder|trendsmapresolver|twingly recon|url|virtuoso|wappalyzer|webglance|webkit2png|websitemetadataretriever|whatcms\\/|wordpress|zgrab/i;\n\n// src/patterns.json\nvar patterns_default = [\n  \" daum[ /]\",\n  \" deusu/\",\n  \" yadirectfetcher\",\n  \"(?:^| )site\",\n  \"(?:^|[^g])news\",\n  \"(?<! (?:channel/|google/))google(?!(app|/google| pixel))\",\n  \"(?<! cu)bot\",\n  \"(?<! ya(?:yandex)?)search\",\n  \"(?<!(?:lib))http\",\n  \"@[a-z]\",\n  \"\\\\(at\\\\)[a-z]\",\n  \"\\\\(github\\\\.com/\",\n  \"\\\\[at\\\\][a-z]\",\n  \"^12345\",\n  \"^<\",\n  \"^[\\\\w \\\\.\\\\-\\\\(\\\\)]+(/v?\\\\d+(\\\\.\\\\d+)?(\\\\.\\\\d{1,10})?)?$\",\n  \"^[^ ]{50,}$\",\n  \"^active\",\n  \"^ad muncher\",\n  \"^amaya\",\n  \"^anglesharp/\",\n  \"^anonymous\",\n  \"^avsdevicesdk/\",\n  \"^axios/\",\n  \"^bidtellect/\",\n  \"^biglotron\",\n  \"^btwebclient/\",\n  \"^castro\",\n  \"^clamav[ /]\",\n  \"^client/\",\n  \"^cobweb/\",\n  \"^coccoc\",\n  \"^custom\",\n  \"^ddg[_-]android\",\n  \"^discourse\",\n  \"^dispatch/\\\\d\",\n  \"^downcast/\",\n  \"^duckduckgo\",\n  \"^facebook\",\n  \"^fdm[ /]\\\\d\",\n  \"^getright/\",\n  \"^gozilla/\",\n  \"^hatena\",\n  \"^hobbit\",\n  \"^hotzonu\",\n  \"^hwcdn/\",\n  \"^jeode/\",\n  \"^jetty/\",\n  \"^jigsaw\",\n  \"^linkdex\",\n  \"^lwp[-: ]\",\n  \"^metauri\",\n  \"^microsoft bits\",\n  \"^movabletype\",\n  \"^mozilla/\\\\d\\\\.\\\\d \\\\(compatible;?\\\\)$\",\n  \"^mozilla/\\\\d\\\\.\\\\d \\\\w*$\",\n  \"^navermailapp\",\n  \"^netsurf\",\n  \"^offline explorer\",\n  \"^php\",\n  \"^postman\",\n  \"^postrank\",\n  \"^python\",\n  \"^read\",\n  \"^reed\",\n  \"^restsharp/\",\n  \"^snapchat\",\n  \"^space bison\",\n  \"^svn\",\n  \"^swcd \",\n  \"^taringa\",\n  \"^test certificate info\",\n  \"^thumbor/\",\n  \"^tumblr/\",\n  \"^user-agent:mozilla\",\n  \"^valid\",\n  \"^venus/fedoraplanet\",\n  \"^w3c\",\n  \"^webbandit/\",\n  \"^webcopier\",\n  \"^wget\",\n  \"^whatsapp\",\n  \"^xenu link sleuth\",\n  \"^yahoo\",\n  \"^yandex\",\n  \"^zdm/\\\\d\",\n  \"^zoom marketplace/\",\n  \"^{{.*}}$\",\n  \"adbeat\\\\.com\",\n  \"appinsights\",\n  \"archive\",\n  \"ask jeeves/teoma\",\n  \"bit\\\\.ly/\",\n  \"bluecoat drtr\",\n  \"browsex\",\n  \"burpcollaborator\",\n  \"capture\",\n  \"catch\",\n  \"check\",\n  \"chrome-lighthouse\",\n  \"chromeframe\",\n  \"classifier\",\n  \"cloud\",\n  \"crawl\",\n  \"cryptoapi\",\n  \"dareboost\",\n  \"datanyze\",\n  \"dataprovider\",\n  \"dejaclick\",\n  \"dmbrowser\",\n  \"download\",\n  \"evc-batch/\",\n  \"feed\",\n  \"firephp\",\n  \"freesafeip\",\n  \"gomezagent\",\n  \"headlesschrome/\",\n  \"httrack\",\n  \"hubspot marketing grader\",\n  \"hydra\",\n  \"ibisbrowser\",\n  \"images\",\n  \"inspect\",\n  \"iplabel\",\n  \"ips-agent\",\n  \"java(?!;)\",\n  \"library\",\n  \"mail\\\\.ru/\",\n  \"manager\",\n  \"monitor\",\n  \"morningscore/\",\n  \"neustar wpm\",\n  \"nutch\",\n  \"offbyone\",\n  \"optimize\",\n  \"pageburst\",\n  \"pagespeed\",\n  \"parser\",\n  \"perl\",\n  \"phantom\",\n  \"pingdom\",\n  \"powermarks\",\n  \"preview\",\n  \"proxy\",\n  \"ptst[ /]\\\\d\",\n  \"reader\",\n  \"rexx;\",\n  \"rigor\",\n  \"rss\",\n  \"scan\",\n  \"scrape\",\n  \"serp ?reputation ?management\",\n  \"server\",\n  \"sogou\",\n  \"sparkler/\",\n  \"speedcurve\",\n  \"spider\",\n  \"splash\",\n  \"statuscake\",\n  \"stumbleupon\\\\.com\",\n  \"supercleaner\",\n  \"synapse\",\n  \"synthetic\",\n  \"torrent\",\n  \"tracemyfile\",\n  \"transcoder\",\n  \"trendsmapresolver\",\n  \"twingly recon\",\n  \"url\",\n  \"virtuoso\",\n  \"wappalyzer\",\n  \"webglance\",\n  \"webkit2png\",\n  \"websitemetadataretriever\",\n  \"whatcms/\",\n  \"wordpress\",\n  \"zgrab\"\n];\n\n// src/index.ts\nvar pattern = regex;\nvar list = patterns_default;\nvar isbot = (userAgent) => Boolean(userAgent) && pattern.test(userAgent);\nvar createIsbot = (customPattern) => (userAgent) => Boolean(userAgent) && customPattern.test(userAgent);\nvar isbotMatch = (userAgent) => userAgent.match(pattern)?.[0];\nvar isbotMatches = (userAgent) => list.map((part) => userAgent.match(new RegExp(part, \"i\"))?.[0]).filter(Boolean);\nvar isbotPattern = (userAgent) => list.find((patten) => new RegExp(patten, \"i\").test(userAgent)) ?? null;\nvar isbotPatterns = (userAgent) => list.filter((patten) => new RegExp(patten, \"i\").test(userAgent));\nexport {\n  createIsbot,\n  isbot,\n  isbotMatch,\n  isbotMatches,\n  isbotPattern,\n  isbotPatterns,\n  list,\n  pattern\n};\n","import { isbot, isbotMatch, isbotPattern } from \"..\";\n\n{\n\tconst textarea = document.querySelector(\"textarea\");\n\tconst output = document.querySelector(\"output\");\n\tconst copyLink = document.querySelector('[id=\"copy-link\"]');\n\tlet timer;\n\n\tconst url = new URL(window.location.href);\n\tconst ua = url.searchParams.get(\"ua\");\n\n\ttextarea.childNodes.forEach((child) => child.parentNode?.removeChild(child));\n\ttextarea.appendChild(document.createTextNode(ua || navigator.userAgent));\n\ttextarea.addEventListener(\"keyup\", change);\n\ttextarea.addEventListener(\"paste\", change);\n\ttextarea.addEventListener(\"focus\", () => textarea.select());\n\tcheck();\n\n\tfunction change({ target: { value } }) {\n\t\tclearTimeout(timer);\n\t\ttimer = setTimeout(check, 200, value);\n\t}\n\n\tfunction append(parent, tag, string) {\n\t\tif (tag) {\n\t\t\tconst ele = document.createElement(\"kbd\");\n\t\t\tele.appendChild(document.createTextNode(string));\n\t\t\tparent.appendChild(ele);\n\t\t} else {\n\t\t\tparent.appendChild(document.createTextNode(string));\n\t\t}\n\t}\n\n\tfunction details(ua) {\n\t\tconst fragment = document.createDocumentFragment();\n\t\tconst is = isbot(ua);\n\t\tconst found = is && isbotMatch(ua);\n\t\tconst pattern = is && isbotPattern(ua);\n\n\t\tif (is) {\n\t\t\tappend(fragment, null, \"I think so, yes\\n\");\n\t\t\tappend(fragment, null, \"The substring \");\n\t\t\tappend(fragment, \"kbd\", found);\n\t\t\tappend(fragment, null, \" matches the pattern \");\n\t\t\tappend(fragment, \"kbd\", pattern);\n\t\t} else {\n\t\t\tappend(\n\t\t\t\tfragment,\n\t\t\t\tnull,\n\t\t\t\t\"I don't think so, no\\nI could not find a pattern I recognise\",\n\t\t\t);\n\t\t}\n\t\treturn fragment;\n\t}\n\n\tfunction check(value = textarea.innerHTML) {\n\t\tvalue = value.trim();\n\t\twhile (output.firstChild) {\n\t\t\toutput.removeChild(output.firstChild);\n\t\t}\n\t\tif (value === \"\") {\n\t\t\toutput.appendChild(\n\t\t\t\tdocument.createTextNode(\"Insert user agent string in the text box\"),\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\toutput.appendChild(details(value));\n\t}\n\n\tcopyLink.addEventListener(\"click\", (event) => {\n\t\tevent.preventDefault();\n\t\tconst { protocol, host, pathname } = document.location;\n\t\tnavigator.clipboard.writeText(\n\t\t\t[\n\t\t\t\tprotocol,\n\t\t\t\t\"//\",\n\t\t\t\thost,\n\t\t\t\tpathname,\n\t\t\t\t\"?ua=\",\n\t\t\t\tencodeURIComponent(textarea.value),\n\t\t\t].join(\"\"),\n\t\t);\n\t\tconst dialog = document.createElement(\"dialog\");\n\t\tdialog.appendChild(document.createTextNode(\"copied to clipboard\"));\n\t\tdocument.body.appendChild(dialog);\n\t\tdialog.showModal();\n\t\tsetTimeout(() => {\n\t\t\tdialog.addEventListener(\"transitionend\", () => {\n\t\t\t\tdialog.close();\n\t\t\t\tdocument.body.removeChild(dialog);\n\t\t\t});\n\t\t\tdialog.style.opacity = 0;\n\t\t}, 1000);\n\t});\n}\n"]}